

<!DOCTYPE html>
<html lang="en">
  <head>
    <title>p a t t e r n s</title>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
      body {
        margin: 0;
        background: radial-gradient(farthest-corner at 15vw 10vh, rgb(3, 3, 3) 0%, rgb(47, 26, 26) 45vw, rgb(20, 7, 91) 100%);
        filter: saturate(2);
      }
      canvas {
        width: 100vw;
        height: 100vh;
      }
    </style>
  </head>  
  <body>
    <canvas></canvas>
    <script>
      const canvas = document.querySelector('canvas')
      let ctx = canvas.getContext('2d')
      ctx.width = canvas.width = window.innerWidth
      ctx.height = canvas.height = window.innerHeight
      ctx.globalAlpha = 0.5
      let tri = ['F','-','G','-','G'], angle = 120, tx = 30, ty = 30
      const rules = {
        F: ['F','-','G','+','F','+','G','-','F'],
        G: ['G','G']
      }
      function plot(t) {
        switch (t) {
          case 'F':
          case 'G':
            angle = 120
            ctx.translate(tx, ty)
            ctx.rotate(angle * (Math.PI / 180))
            ctx.lineTo(tx, ty)
            ctx.stroke()
            ctx.translate(-tx, -ty)
            break
          case '-':
            angle -= 120
            ctx.translate(tx, ty)
            ctx.rotate(angle * (Math.PI / 180))
            break
          case '+':
            angle += 120
            ctx.translate(tx, ty)
            ctx.rotate(angle * (Math.PI / 180))
            break
        }
      }
      ctx.beginPath()
      function render() {
        if (tri.length) {
          tri = (rules[tri[0]]) ? tri.concat(rules[tri[0]]) : tri.concat(tri[0])
          ctx.strokeStyle = `rgba(200, ${Math.floor(Math.random() * 255)}, ${Math.floor(Math.random() * 255)}, 0.007)`
          ctx.lineWidth = Math.floor(Math.random() * 3) + 1
          plot(tri[0])
          tri.shift()
        }
        window.requestAnimationFrame(render)
      }
      ctx.translate(ctx.width / 2, ctx.height / 2)
      ctx.moveTo(0, 0)
      render()
      </script>
  </body>
</html>